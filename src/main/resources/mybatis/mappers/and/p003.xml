<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   <mapper namespace="and.p003">
	<resultMap type="java.util.HashMap" id="p003_d001Result01">
		<result property="one_type" column="one_type" />	<!-- 구분 -->
		<result property="one_id" column="one_id" />	<!-- 글번호 -->
		<result property="one_title" column="one_title" />	<!-- 글제목 -->
		<result property="one_state" column="one_state" />	<!-- 진행상태-->
		<result property="m_id" column="m_id" /> <!-- 참가자 ID -->
		<result property="msg_date" column="msg_date" />	<!-- 시간 -->
		<result property="msg_content" column="msg_content" />	<!-- 채팅내용 -->
	</resultMap>

	<!-- 채팅방 목록 불러오기  (진행중)--> 
	<select id="chatRoom" parameterType="and.p003.vo.AndP003AndOneVO">
		<![CDATA[
 		SELECT one_type, m_id
 		FROM one_member
 		WHERE om_state = 20;
 		]]>
	</select>
	
		<!-- 채팅방 목록 불러오기  (진행완료)--> 
	<select id="chatRoom" parameterType="and.p003.vo.AndP003AndOneVO">
		<![CDATA[
 		SELECT one_type, m_id
 		FROM one_member
 		WHERE om_state = 30);
 		]]>
	</select>
	
	<!-- 채팅 보내기 -->
<!-- 	<insert id="sendMessage" parameterType="java.util.Map"> -->
<!-- 	<![CDATA[INSERT INTO message(one_type, one_id, one_state, one_title, m_id, msg_content, msg_date) -->
<!-- 	VALUES (#{one_type}, -->
<!-- 			#{one_id}, -->
<!-- 			#{one_state}, -->
<!-- 			#{one_title}, -->
<!-- 			#{m_id}, -->
<!-- 			#{msg_content}, -->
<!-- 			#{msg_date}) -->
<!-- 			]]> -->

<!-- 	</insert> -->
   </mapper>